{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { AuthForm } from \"./AuthForm\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport AccountBox from \"@material-ui/icons/AccountBox\";\nimport { unauthenticated } from \"../../redux/actions/auth\";\nimport Link from \"@material-ui/core/Link\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      \"& .MuiTab-textColorPrimary.Mui-selected\": {\n        color: \"#ffffff\",\n        background: \"var(--theme)\"\n      },\n      \"& .MuiTabs-indicator\": {\n        display: \"none\"\n      },\n      \"& .MuiTab-textColorPrimary\": {\n        background: \"#dfdfdf\"\n      },\n      \"& .MuiButton-containedPrimary\": {\n        marginTop: \"1rem\"\n      }\n    },\n    Login: _defineProperty({\n      position: \"relative\",\n      marginTop: \"5rem\",\n      \"&::before\": {\n        top: \"0\",\n        left: \"0\",\n        width: \"440px\",\n        height: \"440px\",\n        content: '\"\"',\n        zIndex: \"-1\",\n        position: \"absolute\",\n        transform: \"translate(-50%, -50%)\",\n        background: \"url(/static/images/circleCenter.svg)\",\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\"\n      }\n    }, theme.breakpoints.down(\"sm\"), {\n      marginTop: '1.5rem'\n    }),\n    Img: _defineProperty({\n      textAlign: \"center\"\n    }, theme.breakpoints.down(\"sm\"), {\n      '& img': {\n        height: '65px'\n      }\n    }),\n    orange: {\n      color: \"#fff\",\n      backgroundColor: \"var(--theme)\",\n      width: \"30px\",\n      height: \"30px\",\n      fontSize: \"1rem\"\n    },\n    transparent: {\n      color: \"#000\",\n      width: \"30px\",\n      height: \"25px\",\n      backgroundColor: \"transparent\"\n    },\n    desktopMenu: {\n      '& .MuiPopover-paper': {\n        minWidth: '200px',\n        textAlign: 'right'\n      },\n      '& li': {\n        justifyContent: 'space-between'\n      }\n    }\n  };\n});\n\nvar Login_Register = function Login_Register(_ref) {\n  _s();\n\n  var _ref$isMobile = _ref.isMobile,\n      isMobile = _ref$isMobile === void 0 ? false : _ref$isMobile,\n      _ref$modalOpen = _ref.modalOpen,\n      modalOpen = _ref$modalOpen === void 0 ? false : _ref$modalOpen;\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  var router = useRouter();\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      anchorEl = _React$useState4[0],\n      setAnchorEl = _React$useState4[1];\n\n  var _useState2 = useState(false),\n      openAMenu = _useState2[0],\n      setopenAMenu = _useState2[1];\n\n  var _useState3 = useState(false),\n      openBMenu = _useState3[0],\n      setopenBMenu = _useState3[1];\n\n  var _useState4 = useState(false),\n      openCMenu = _useState4[0],\n      setopenCMenu = _useState4[1];\n\n  var _useState5 = useState(false),\n      openDMenu = _useState5[0],\n      setopenDMenu = _useState5[1];\n\n  var dispatch = useDispatch();\n\n  var toggleModal = function toggleModal() {\n    if (location.search.indexOf(\"signup=open\") != -1) {\n      setOpen(true);\n    } else if (modalOpen != open) {\n      setOpen(modalOpen);\n    }\n  };\n\n  useEffect(function () {\n    toggleModal();\n  }, [modalOpen]);\n  router.events.on('routeChangeComplete', toggleModal);\n  var accessToken = useSelector(function (state) {\n    return state.auth_user.accessToken;\n  });\n  var user = useSelector(function (state) {\n    return state.auth_user.user;\n  }); // console.log(\"User\", user);\n\n  var handleChange = function handleChange(event, newValue) {\n    setValue(newValue);\n  };\n\n  var handleChangeIndex = function handleChangeIndex(index) {\n    setValue(index);\n  };\n\n  var openModal = function openModal(event) {\n    if (!accessToken) {\n      setOpen(true);\n    } else {\n      if (isMobile) {\n        gotoProfile();\n      } else {\n        setAnchorEl(event.currentTarget);\n      }\n    }\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var closeModal = function closeModal() {\n    setOpen(false);\n  };\n\n  var gotoProfile = function gotoProfile() {\n    router.push(\"/profile\");\n  };\n\n  var gotoProfileEdit = function gotoProfileEdit() {\n    router.push(\"/profile/edit\");\n  };\n\n  var gotoEvents = function gotoEvents() {\n    router.push(\"/profile/events\");\n  };\n\n  var gotoRequeste = function gotoRequeste() {\n    router.push(\"/profile/requests\");\n  };\n\n  var gotoFavEvents = function gotoFavEvents() {\n    router.push(\"/profile/favourite-events\");\n  };\n\n  var gotoFavProducts = function gotoFavProducts() {\n    router.push(\"/profile/favourite-products\");\n  };\n\n  var gotoAddRequest = function gotoAddRequest() {\n    router.push(\"/post/request\");\n  };\n\n  var gotoResetPassword = function gotoResetPassword() {\n    router.push(\"/profile/reset-password\");\n  };\n\n  var logout = function logout() {\n    setAnchorEl(null);\n    router.push(\"/\");\n    dispatch(unauthenticated());\n  };\n\n  var toggleASubmenu = function toggleASubmenu() {\n    setopenAMenu(!openAMenu);\n  };\n\n  var toggleBSubmenu = function toggleBSubmenu() {\n    setopenBMenu(!openBMenu);\n  };\n\n  var toggleCSubmenu = function toggleCSubmenu() {\n    setopenCMenu(!openCMenu);\n  };\n\n  var toggleDSubmenu = function toggleDSubmenu() {\n    setopenDMenu(!openDMenu);\n  };\n\n  var classes = useStyles();\n  return __jsx(\"div\", null, __jsx(Avatar, {\n    onClick: openModal,\n    \"aria-controls\": \"auth-menu\",\n    \"aria-haspopup\": \"true\",\n    className: user.first_name ? classes.orange : classes.transparent\n  }, user.first_name ? user.first_name.charAt(0) : __jsx(AccountCircleIcon, null)), __jsx(Menu, {\n    id: \"auth-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose // open={!!menuPosition}\n    // onClose={() => setMenuPosition({}) || handleClose}\n    // anchorReference=\"anchorPosition\"\n    // anchorPosition={menuPosition}\n    ,\n    className: classes.desktopMenu\n  }, __jsx(MenuItem, {\n    button: true,\n    onClick: toggleASubmenu\n  }, \"Profile\", openAMenu ? __jsx(ExpandLess, null) : __jsx(ExpandMore, null)), __jsx(Collapse, {\n    \"in\": openAMenu,\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, __jsx(MenuItem, {\n    onClick: gotoProfile\n  }, \"View Profile\"), __jsx(MenuItem, {\n    onClick: gotoResetPassword\n  }, \"Reset Password\")), __jsx(MenuItem, {\n    button: true,\n    onClick: toggleBSubmenu\n  }, \"Ads\", openBMenu ? __jsx(ExpandLess, null) : __jsx(ExpandMore, null)), __jsx(Collapse, {\n    \"in\": openBMenu,\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, __jsx(MenuItem, {\n    onClick: gotoProfile\n  }, \"Published Ads\"), __jsx(MenuItem, {\n    onClick: gotoFavProducts\n  }, \"Favourite Products\")), __jsx(MenuItem, {\n    button: true,\n    onClick: toggleCSubmenu\n  }, \"Events\", openCMenu ? __jsx(ExpandLess, null) : __jsx(ExpandMore, null)), __jsx(Collapse, {\n    \"in\": openCMenu,\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, __jsx(MenuItem, {\n    onClick: gotoEvents\n  }, \"Published Events\"), __jsx(MenuItem, {\n    onClick: gotoFavEvents\n  }, \"Favourite Events\")), __jsx(MenuItem, {\n    button: true,\n    onClick: toggleDSubmenu\n  }, \"Requests\", openDMenu ? __jsx(ExpandLess, null) : __jsx(ExpandMore, null)), __jsx(Collapse, {\n    \"in\": openDMenu,\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, __jsx(MenuItem, {\n    onClick: gotoRequeste\n  }, \"Published Requests\"), __jsx(MenuItem, {\n    onClick: gotoAddRequest\n  }, \"Add Product Request\")), __jsx(MenuItem, {\n    onClick: logout\n  }, \"Logout\")), __jsx(Dialog, {\n    open: open,\n    onClose: closeModal,\n    \"aria-labelledby\": \"form-dialog-title\",\n    className: classes.modal\n  }, __jsx(\"div\", {\n    className: classes.root\n  }, __jsx(Tabs, {\n    value: value,\n    onChange: handleChange,\n    variant: \"fullWidth\",\n    indicatorColor: \"primary\",\n    textColor: \"primary\"\n  }, __jsx(Tab, {\n    label: \"Login\"\n  }), __jsx(Tab, {\n    label: \"SignUp\"\n  })), __jsx(SwipeableViews, {\n    index: value,\n    onChangeIndex: handleChangeIndex\n  }, __jsx(\"div\", {\n    className: classes.Login\n  }, __jsx(\"div\", {\n    className: classes.Img\n  }, __jsx(\"img\", {\n    src: \"/static/images/logo.png\",\n    width: \"100\"\n  })), __jsx(AuthForm, {\n    type: \"login\"\n  })), __jsx(\"div\", null, __jsx(AuthForm, {\n    type: \"signup\"\n  }))))));\n};\n\n_s(Login_Register, \"Uj8jaPTZ3BuCq3V8Usojd8Ys0cE=\", false, function () {\n  return [useRouter, useDispatch, useSelector, useSelector, useStyles];\n});\n\n_c = Login_Register;\nexport default Login_Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login_Register\");","map":{"version":3,"sources":["C:/Users/91911/Downloads/frontend/src/components/Login_Register/index.js"],"names":["React","useState","useEffect","AccountCircleIcon","Dialog","makeStyles","useTheme","SwipeableViews","Tabs","Tab","AuthForm","Avatar","useDispatch","useSelector","useRouter","Button","Menu","MenuItem","Collapse","ExpandLess","ExpandMore","AccountBox","unauthenticated","Link","useStyles","theme","root","color","background","display","marginTop","Login","position","top","left","width","height","content","zIndex","transform","backgroundSize","backgroundRepeat","breakpoints","down","Img","textAlign","orange","backgroundColor","fontSize","transparent","desktopMenu","minWidth","justifyContent","Login_Register","isMobile","modalOpen","open","setOpen","value","setValue","router","anchorEl","setAnchorEl","openAMenu","setopenAMenu","openBMenu","setopenBMenu","openCMenu","setopenCMenu","openDMenu","setopenDMenu","dispatch","toggleModal","location","search","indexOf","events","on","accessToken","state","auth_user","user","handleChange","event","newValue","handleChangeIndex","index","openModal","gotoProfile","currentTarget","handleClose","closeModal","push","gotoProfileEdit","gotoEvents","gotoRequeste","gotoFavEvents","gotoFavProducts","gotoAddRequest","gotoResetPassword","logout","toggleASubmenu","toggleBSubmenu","toggleCSubmenu","toggleDSubmenu","classes","first_name","charAt","Boolean","modal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport { AuthForm } from \"./AuthForm\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport AccountBox from \"@material-ui/icons/AccountBox\";\r\nimport { unauthenticated } from \"../../redux/actions/auth\";\r\nimport Link from \"@material-ui/core/Link\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTab-textColorPrimary.Mui-selected\": {\r\n      color: \"#ffffff\",\r\n      background: \"var(--theme)\",\r\n    },\r\n    \"& .MuiTabs-indicator\": {\r\n      display: \"none\",\r\n    },\r\n    \"& .MuiTab-textColorPrimary\": {\r\n      background: \"#dfdfdf\",\r\n    },\r\n    \"& .MuiButton-containedPrimary\": {\r\n      marginTop: \"1rem\",\r\n    },\r\n  },\r\n  Login: {\r\n    position: \"relative\",\r\n    marginTop: \"5rem\",\r\n    \"&::before\": {\r\n      top: \"0\",\r\n      left: \"0\",\r\n      width: \"440px\",\r\n      height: \"440px\",\r\n      content: '\"\"',\r\n      zIndex: \"-1\",\r\n      position: \"absolute\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      background: \"url(/static/images/circleCenter.svg)\",\r\n      backgroundSize: \"cover\",\r\n      backgroundRepeat: \"no-repeat\",\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]:{\r\n      marginTop: '1.5rem'\r\n    }\r\n  },\r\n  Img: {\r\n    textAlign: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]:{\r\n      '& img':{\r\n        height: '65px'\r\n      }\r\n    }\r\n  },\r\n  orange: {\r\n    color: \"#fff\",\r\n    backgroundColor: \"var(--theme)\",\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n    fontSize: \"1rem\",\r\n  },\r\n  transparent: {\r\n    color: \"#000\",\r\n    width: \"30px\",\r\n    height: \"25px\",\r\n    backgroundColor: \"transparent\",\r\n  },\r\n  desktopMenu:{\r\n    '& .MuiPopover-paper':{\r\n      minWidth: '200px',\r\n      textAlign: 'right'\r\n    },\r\n    '& li':{\r\n      justifyContent: 'space-between'\r\n    }\r\n  }\r\n}));\r\n\r\nconst Login_Register = ({ isMobile = false, modalOpen = false }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [value, setValue] = React.useState(0);\r\n  const router = useRouter();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [openAMenu, setopenAMenu] = useState(false);\r\n  const [openBMenu, setopenBMenu] = useState(false);\r\n  const [openCMenu, setopenCMenu] = useState(false);\r\n  const [openDMenu, setopenDMenu] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toggleModal = () => {\r\n    if (location.search.indexOf(\"signup=open\") != -1) {\r\n      setOpen(true);\r\n    } else if (modalOpen != open) {\r\n      setOpen(modalOpen);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    toggleModal()\r\n  }, [modalOpen]);\r\n\r\n\r\n\r\n  router.events.on('routeChangeComplete', toggleModal)\r\n\r\n  const accessToken = useSelector((state) => state.auth_user.accessToken);\r\n  const user = useSelector((state) => state.auth_user.user);\r\n  // console.log(\"User\", user);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleChangeIndex = (index) => {\r\n    setValue(index);\r\n  };\r\n  const openModal = (event) => {\r\n    if (!accessToken) {\r\n      setOpen(true);\r\n    } else {\r\n      if (isMobile) {\r\n        gotoProfile();\r\n      } else {\r\n        setAnchorEl(event.currentTarget);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const gotoProfile = () => {\r\n    router.push(\"/profile\");\r\n  };\r\n  const gotoProfileEdit = () => {\r\n    router.push(\"/profile/edit\");\r\n  };\r\n  const gotoEvents = () => {\r\n    router.push(\"/profile/events\");\r\n  };\r\n  const gotoRequeste = () => {\r\n    router.push(\"/profile/requests\");\r\n  };\r\n  const gotoFavEvents = () =>{\r\n    router.push(\"/profile/favourite-events\");\r\n  };\r\n  const gotoFavProducts = () =>{\r\n    router.push(\"/profile/favourite-products\");\r\n  };\r\n  const gotoAddRequest = () =>{\r\n    router.push(\"/post/request\");\r\n  };\r\n  const gotoResetPassword = () => {\r\n    router.push(\"/profile/reset-password\");\r\n  }\r\n  \r\n\r\n  const logout = () => {\r\n    setAnchorEl(null);\r\n    router.push(\"/\");\r\n    dispatch(unauthenticated());\r\n  };\r\n\r\n  const toggleASubmenu = () => {\r\n    setopenAMenu(!openAMenu);\r\n  };\r\n  const toggleBSubmenu = () => {\r\n    setopenBMenu(!openBMenu);\r\n  };\r\n  const toggleCSubmenu = () => {\r\n    setopenCMenu(!openCMenu);\r\n  };\r\n  const toggleDSubmenu = () => {\r\n    setopenDMenu(!openDMenu);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Avatar\r\n        onClick={openModal}\r\n        aria-controls=\"auth-menu\"\r\n        aria-haspopup=\"true\"\r\n        className={user.first_name ? classes.orange : classes.transparent}\r\n      >\r\n        {user.first_name ? user.first_name.charAt(0) : <AccountCircleIcon />}\r\n      </Avatar>\r\n      <Menu\r\n        id=\"auth-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n        // open={!!menuPosition}\r\n        // onClose={() => setMenuPosition({}) || handleClose}\r\n        // anchorReference=\"anchorPosition\"\r\n        // anchorPosition={menuPosition}\r\n        className={classes.desktopMenu}\r\n      >\r\n        {/* <List> */}\r\n          <MenuItem button onClick={toggleASubmenu}>\r\n            Profile\r\n            {openAMenu ? <ExpandLess /> : <ExpandMore />}\r\n          </MenuItem>\r\n          <Collapse in={openAMenu} timeout=\"auto\" unmountOnExit>\r\n            <MenuItem onClick={gotoProfile}>View Profile</MenuItem>\r\n            <MenuItem onClick={gotoResetPassword}>Reset Password</MenuItem>\r\n          </Collapse>\r\n          <MenuItem button onClick={toggleBSubmenu}>\r\n            Ads\r\n            {openBMenu ? <ExpandLess /> : <ExpandMore />}\r\n          </MenuItem>\r\n          <Collapse in={openBMenu} timeout=\"auto\" unmountOnExit>\r\n            <MenuItem onClick={gotoProfile}>Published Ads</MenuItem>\r\n            <MenuItem onClick={gotoFavProducts}>Favourite Products</MenuItem>\r\n          </Collapse>\r\n          <MenuItem button onClick={toggleCSubmenu}>\r\n            Events\r\n            {openCMenu ? <ExpandLess /> : <ExpandMore />}\r\n          </MenuItem>\r\n          <Collapse in={openCMenu} timeout=\"auto\" unmountOnExit>\r\n            <MenuItem onClick={gotoEvents}>Published Events</MenuItem>\r\n            <MenuItem onClick={gotoFavEvents}>Favourite Events</MenuItem>\r\n          </Collapse>\r\n          <MenuItem button onClick={toggleDSubmenu}>\r\n            Requests\r\n            {openDMenu ? <ExpandLess /> : <ExpandMore />}\r\n          </MenuItem>\r\n          <Collapse in={openDMenu} timeout=\"auto\" unmountOnExit>\r\n            <MenuItem onClick={gotoRequeste}>Published Requests</MenuItem>\r\n            <MenuItem onClick={gotoAddRequest}>Add Product Request</MenuItem> \r\n          </Collapse>\r\n          <MenuItem onClick={logout}>Logout</MenuItem>\r\n      </Menu>\r\n\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        className={classes.modal}\r\n      >\r\n        <div className={classes.root}>\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            variant=\"fullWidth\"\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n          >\r\n            <Tab label=\"Login\" />\r\n            <Tab label=\"SignUp\" />\r\n          </Tabs>\r\n          <SwipeableViews index={value} onChangeIndex={handleChangeIndex}>\r\n            <div className={classes.Login}>\r\n              <div className={classes.Img}>\r\n                <img src=\"/static/images/logo.png\" width=\"100\" />\r\n              </div>\r\n              <AuthForm type=\"login\" />\r\n            </div>\r\n            <div>\r\n              <AuthForm type=\"signup\" />\r\n            </div>\r\n          </SwipeableViews>\r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login_Register;\r\n"]},"metadata":{},"sourceType":"module"}