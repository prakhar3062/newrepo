{"ast":null,"code":"const API_URL = process.env.api_url;\nexport function generalPostRequest(url, data) {\n  return fetch(url, {\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"post\",\n    body: JSON.stringify(data)\n  }).then(response => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw Error(`Request rejected with status ${response.status}`);\n    }\n  }).then(responseData => {\n    console.log(responseData);\n    return responseData;\n  }).catch(error => console.log(error));\n}\nexport function generalGetRequest(url) {\n  return fetch(url).then(response => response.json()).then(responseData => {\n    console.log(responseData);\n    return responseData;\n  }).catch(error => console.log(error));\n}\nexport function fetchDialogs(user_id, q) {\n  let url = API_URL + \"/dialogs/\" + user_id;\n\n  if (q) {\n    url = url + q;\n  }\n\n  console.log(url);\n  return generalGetRequest(url);\n}\nexport function fetchMessages(dialog_id, q) {\n  let url = API_URL + \"/messages/\" + dialog_id;\n\n  if (q) {\n    url = url + q;\n  }\n\n  console.log(url);\n  return generalGetRequest(url);\n}\nexport function createMessage(data) {\n  let url = API_URL + \"/message\";\n  console.log(url);\n  return generalPostRequest(url, data);\n}\nexport function unreadMsg(user_id) {\n  let url = API_URL + \"/unread-message/\" + user_id;\n  console.log(url);\n  return generalGetRequest(url);\n}\nexport function readAll(dialog_id, user_id) {\n  let url = API_URL + \"/mark-read-dialog/\" + dialog_id + '/' + user_id;\n  console.log(url);\n  return generalGetRequest(url);\n}","map":{"version":3,"sources":["C:/Users/91911/Downloads/frontend/src/apis/chat-api.js"],"names":["API_URL","process","env","api_url","generalPostRequest","url","data","fetch","headers","Accept","method","body","JSON","stringify","then","response","ok","json","Error","status","responseData","console","log","catch","error","generalGetRequest","fetchDialogs","user_id","q","fetchMessages","dialog_id","createMessage","unreadMsg","readAll"],"mappings":"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","sourcesContent":["const API_URL = process.env.api_url;\n\nexport function generalPostRequest(url, data) {\n    return fetch(url, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"post\",\n      body: JSON.stringify(data),\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw Error(`Request rejected with status ${response.status}`);\n        }\n      })\n      .then((responseData) => {\n        console.log(responseData);\n        return responseData;\n      })\n      .catch((error) => console.log(error));\n}\n\nexport function generalGetRequest(url) {\n    return fetch(url, )\n      .then((response) => response.json())\n      .then((responseData) => {\n        console.log(responseData);\n        return responseData;\n      })\n      .catch((error) => console.log(error));\n}\n\nexport function fetchDialogs(user_id, q) {\n    let url = API_URL + \"/dialogs/\" + user_id;\n\n    if (q) {\n        url = url + q;\n    }\n    console.log(url);\n    return generalGetRequest(url)\n}\n\nexport function fetchMessages(dialog_id, q) {\n    let url = API_URL + \"/messages/\" + dialog_id;\n\n    if (q) {\n        url = url + q;\n    }\n    console.log(url);\n    return generalGetRequest(url)\n}\n\nexport function createMessage(data) {\n    let url = API_URL + \"/message\";\n\n    console.log(url);\n    return generalPostRequest(url, data)\n}\n\nexport function unreadMsg(user_id) {\n    let url = API_URL + \"/unread-message/\" + user_id;\n\n    console.log(url);\n    return generalGetRequest(url)\n}\n\nexport function readAll(dialog_id, user_id) {\n    let url = API_URL + \"/mark-read-dialog/\" + dialog_id + '/' + user_id;\n\n    console.log(url);\n    return generalGetRequest(url)\n}"]},"metadata":{},"sourceType":"module"}